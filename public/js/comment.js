// Generated by CoffeeScript 1.6.3
(function() {
  $(document).ready(function() {
    var app;
    app = window || {};
    app.CommentModel = Backbone.Model.extend({
      defaults: function() {
        return {
          name: "Anon"
        };
      }
    });
    app.Comments = Backbone.Collection.extend({
      model: app.CommentModel,
      initialize: function(properties) {
        return this.url = properties.url;
      },
      getCommentsBySlug: function(slug) {
        return this.findWhere({
          slug: slug
        });
      }
    });
    app.CommentView = Backbone.View.extend({
      template: _.template($('#comment-template').html()),
      events: {
        'click span': function() {
          return console.log("HAIAHIAIA");
        }
      },
      initialize: function() {
        return _.bindAll(this);
      },
      render: function() {
        $(this.el).html(this.template(this.model.toJSON()));
        this.delegateEvents();
        return this;
      }
    });
    return app.CommentsView = Backbone.View.extend({
      tagName: "commentsView",
      template: _.template($('#comments-template').html()),
      events: {
        'dblclick': 'flip'
      },
      initialize: function() {
        return _.bindAll(this);
      },
      flip: function() {
        return console.log("comments flip");
      },
      render: function(e) {
        var container;
        $(this.el).html(this.template(this.model.toJSON()));
        container = $(this.el).find(".comments");
        this.collection.each(function(commentModel) {
          var commentView;
          commentView = new app.CommentView({
            model: commentModel
          });
          return container.append(commentView.render().el);
        });
        this.delegateEvents();
        return this;
      }
    });
  });

}).call(this);
